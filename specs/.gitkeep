import sqlite3

# Veritabanı bağlantısı
conn = sqlite3.connect("osop_database.db")
cursor = conn.cursor()

# Öğrenciler tablosu
cursor.execute("""
CREATE TABLE IF NOT EXISTS students (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT,
    number TEXT,
    email TEXT
)
""")

# Belgeler tablosu
cursor.execute("""
CREATE TABLE IF NOT EXISTS documents (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT,
    owner TEXT,
    description TEXT
)
""")

conn.commit()

# ---------------- ÖĞRENCİ MENÜSÜ ----------------
def ogrenci_menusu():
    while True:
        print("\n--- Öğrenci Menüsü ---")
        print("1- Öğrenci Ekle")
        print("2- Öğrencileri Listele")
        print("3- Öğrenci Sil")
        print("4- Geri Dön")

        secim = input("Seçiminiz: ")

        if secim == "1":
            name = input("Ad Soyad: ")
            number = input("Öğrenci No: ")
            email = input("E-posta: ")

            cursor.execute(
                "INSERT INTO students (name, number, email) VALUES (?, ?, ?)",
                (name, number, email)
            )
            conn.commit()
            print("Öğrenci eklendi.")

        elif secim == "2":
            cursor.execute("SELECT * FROM students")
            for ogrenci in cursor.fetchall():
                print(ogrenci)

        elif secim == "3":
            sid = input("Silinecek öğrenci ID: ")
            cursor.execute("DELETE FROM students WHERE id = ?", (sid,))
            conn.commit()
            print("Öğrenci silindi.")

        elif secim == "4":
            break
        else:
            print("Geçersiz seçim.")

# ---------------- BELGE MENÜSÜ ----------------
def belge_menusu():
    while True:
        print("\n--- Belgeler Menüsü ---")
        print("1- Belge Ekle")
        print("2- Belgeleri Listele")
        print("3- Belge Sil")
        print("4- Geri Dön")

        secim = input("Seçiminiz: ")

        if secim == "1":
            title = input("Belge Başlığı: ")
            owner = input("Belge Sahibi: ")
            description = input("Açıklama: ")

            cursor.execute(
                "INSERT INTO documents (title, owner, description) VALUES (?, ?, ?)",
                (title, owner, description)
            )
            conn.commit()
            print("Belge eklendi.")

        elif secim == "2":
            cursor.execute("SELECT * FROM documents")
            belgeler = cursor.fetchall()
            if not belgeler:
                print("Kayıtlı belge yok.")
            else:
                for belge in belgeler:
                    print(belge)

        elif secim == "3":
            bid = input("Silinecek belge ID: ")
            cursor.execute("DELETE FROM documents WHERE id = ?", (bid,))
            conn.commit()
            print("Belge silindi.")

        elif secim == "4":
            break
        else:
            print("Geçersiz seçim.")

# ---------------- ANA MENÜ ----------------
while True:
    print("\n=== OSOP Database Manager ===")
    print("1- Öğrenci İşlemleri")
    print("2- Belge İşlemleri")
    print("3- Çıkış")

    secim = input("Seçiminiz: ")

    if secim == "1":
        ogrenci_menusu()
    elif secim == "2
